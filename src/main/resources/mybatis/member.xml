<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace = "dev.mvc.member.MemberDAOInter">
  <!-- 회원가입 -->
  <insert id="member_create" parameterType="dev.mvc.member.MemberVO">
    insert into member values(member_seq.nextval, #{id}, #{pw}, #{username}, #{zipcode}, #{address1}, #{address2}, #{gender}, #{birth}, #{tel}, sysdate)
  </insert>
  
  <!-- 회원검색 -->
  <select id="member_search" resultType="dev.mvc.member.MemberVO">
    select * from member where username = #{username} and birth = #{birth}
  </select>
  
  <!-- 회원ID체크 -->
  <select id="member_idcheck" resultType="int" parameterType="String">
    select count(id) as cnt from member where id = #{id}
  </select>
  
  <!-- 회원 비밀번호변경 -->
  <update id="member_search_pw_update">
    update member set pw=#{pw} where memberno = #{memberno};
  </update>
  
  <!-- 회원 정보 변경 -->
  <update id="member_update" parameterType="dev.mvc.member.MemberVO">
    update member set pw=#{pw}, tel=#{tel}, address=#{address} where memberno = #{memberno};
  </update>
  
  <!-- 회원 목록 -->
  <select id="member_list" resultType="dev.mvc.member.MemberVO">
    select * from member order by memberno
  </select>   
</mapper> 